{% spaceless %}
<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2" xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom">
  <Document>
    <name>{{ transect.id }}</name>

    <!-- this the style for the upper line -->
    {% for color in colors %}
    <Style id="year{{ forloop.counter }}">
      <LineStyle>
	<color>ff{{ color }}</color>
	<width>2</width>
      </LineStyle>
      <PolyStyle>
      	<color>00{{ color }} </color>
      	<outline>1</outline>
      </PolyStyle>
    </Style>
    {% endfor %}
    {% for year, val in years.items %}
    <Placemark>
      <name>{{ year }}</name>
      <styleUrl>#year{{ forloop.counter }}</styleUrl>
      ## first one without extrude
      <LineString>
	<extrude>1</extrude>
	<altitudeMode>absolute</altitudeMode>
	<coordinates>
	  {{ val.coordinates }}
	</coordinates>
      </LineString>
      <TimeSpan id="ID">
	<begin>{{ val.begindate }}</begin>     <!-- kml:dateTime -->
	<end>{{ val.enddate }}</end>         <!-- kml:dateTime -->
      </TimeSpan>
    </Placemark>
    {% endfor %}
  </Document>
</kml>
{% endspaceless %}