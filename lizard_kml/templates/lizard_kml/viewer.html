{% extends "lizard_ui/lizardbase.html" %}
{% load tools %}

{% block subtitle %}Pilot 3D kustdata voor Deltares{% endblock %}
{% block css %}
{{ block.super }}
<link rel="stylesheet"
      type="text/css"
      href="{{ STATIC_URL }}lizard_kml/viewer.css" />
{% endblock %}

{% block map-javascript %}
<script src="https://www.google.com/jsapi?key=YOURAPIKEY"></script>
<script src="{{ STATIC_URL }}lizard_kml/viewer.js"></script>
{% endblock map-javascript %}

{% block sidebar %}
{# disabled: don't support zooming to specific areas yet #}
{% comment %}
<div class="sidebarbox sidebarbox-stretched"
     id="accordion">
  <h2>
  KML type{% if view.kml_type %} ({{ view.kml_type }}){% endif %}
  </h2>
  <ul id="type-pane"
      class="automatic-tree filetree pane accordion-load-next"
      data-next-pane-id="#area-pane"
      data-title-id="#type-pane-title">
    {% if view.types_tree %}
      {% with "lizard_ui/tree_snippet.html" as tree_template %}
        {% with view.types_tree as tree_items %}
          {% include tree_template %}
        {% endwith %}
      {% endwith %}
    {% else %}
      <li>Geen KML types beschikbaar.</li>
    {% endif %}
  </ul>
  <h2>
  Gebied
  </h2>
  <ul id="area-pane"
      class="automatic-tree filetree pane">
    {% if view.areas_tree %}
      {% with "lizard_kml/tree_snippet.html" as tree_template %}
        {% with view.areas_tree as tree_items %}
          {% include tree_template %}
        {% endwith %}
      {% endwith %}
    {% else %}
      {% if view.kml_type %}
        <li>Geen gebieden beschikbaar voor "{{ view.kml_type }}".</li>
      {% else %}
        <li>Kies KML type.</li>
      {% endif %}
    {% endif %}
  </ul>
</div>
{% endcomment %}
<div class="sidebarbox sidebarbox-stretched"
     id="accordion">
  <h2>
  Categorie
  </h2>
  <ul id="type-pane"
      class="automatic-tree filetree pane">
    <li>
      <div class="workspace-acceptable">
        <a href="javascript:void(0)" onclick="kmlViewerLoadKml('{% absurl lizard-kml-kml kml_type='lod' %}')">Lod</a>
      </div>
    </li>
      <li>
          <div class="workspace-acceptable">
              <a href="javascript:void(0)" onclick="kmlViewerLoadKml('{% absurl lizard-kml-kml kml_type='transect',id='7002111' %}')">Transect</a>
          </div>
      </li>
  </ul>
</div>
{% endblock %}

{% block above-content %}
<span class="above-content-text">Hoogte compensatie:</span>
<span id="lift-slider"></span>
<span class="above-content-text">Overdrijving:</span>
<span id="exaggeration-slider"></span>
{% endblock %}

{% block content %}
<div id="map3d"></div>
<script>
kmlViewerInit('{% absurl lizard-kml-kml kml_type='lod' %}');
$(function() {
    // Set the slider ranges to 0-500, 1-50
    $("#lift-slider").slider({
                stop: function(event, ui) {kmlViewerSetLift(ui.value);}

    });
    $("#lift-slider").slider("option", "min", 0);
    $("#lift-slider").slider("option", "max", 500);
    $("#exaggeration-slider").slider({
                stop: function(event, ui) {kmlViewerSetExaggeration(ui.value);}
    });
    $("#exaggeration-slider").slider("option", "min", 1);
    $("#exaggeration-slider").slider("option", "max", 50);

});
</script>
{% endblock %}
